{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import ImageUploader from'./components/ImageUploader';import ClosetView from'./components/ClosetView';import OutfitView from'./components/OutfitView';import NavBar from'./components/NavBar';import RegistrationModal from'./components/RegistrationModal';import LoginModal from'./components/LoginModal';import{loginUser,userIsAuthenticated}from'./features/userSlice';import{RegistrationModalVisibility,LoginModalVisibility}from'./features/modalSlice';import{removeItem,addItem}from'./features/selectedItemsSlice';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(_ref){var images=_ref.images;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDesktop=_useState2[0],setIsDesktop=_useState2[1];var isRegistrationModalVisible=useSelector(RegistrationModalVisibility);var isLoginModalVisible=useSelector(LoginModalVisibility);var isAuthenticated=useSelector(userIsAuthenticated);// const selectedItems = useSelector(selectedItemsSliceReducer)\nvar state=useSelector(function(state){return state.selectedItems;});var dispatch=useDispatch();useEffect(function(){var checkScreenSize=function checkScreenSize(){setIsDesktop(window.innerWidth>=768);};checkScreenSize();window.addEventListener('resize',checkScreenSize);return function(){window.removeEventListener('resize',checkScreenSize);};},[]);useEffect(function(){// Fetch user data once the component mounts\nif(!isAuthenticated){dispatch(loginUser({username:'yourUsername',password:'yourPassword'}));}},[dispatch,isAuthenticated]);var handleSelectItem=function handleSelectItem(image){var category=image.category;var lowercaseCategory=category.toLowerCase();if(lowercaseCategory==='shoes'||lowercaseCategory==='bottom'){dispatch(addItem({category:'bottom',item:image}));}else if(lowercaseCategory==='top'){dispatch(addItem({category:'top',item:image}));}else if(lowercaseCategory==='hat'){dispatch(addItem({category:'hat',item:image}));}else if(lowercaseCategory==='accessory'){if(state.accessories.length<3){dispatch(addItem({category:'accessories',item:image}));}else{console.log(\"Too many accessories\");}}else if(lowercaseCategory==='onepiece'){dispatch(addItem({category:'onePiece',item:image}));}};var handleRemoveItem=function handleRemoveItem(item,category){if(category==='accessory'){dispatch(removeItem({category:category,item:item}));}else{dispatch(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},_defineProperty({},category,null));});}};var refreshClosetView=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:try{// Perform the fetch operation or any data refreshing logic here\n// const response = await fetch('/backend/Images');\n// const data = await response.json();\n// Update state or perform other necessary actions with the data\n// console.log(\"refreshClosetView has run with updated data:\", data);\n}catch(error){console.error(\"Error refreshing closetview:\",error);}case 1:case\"end\":return _context.stop();}},_callee);}));return function refreshClosetView(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"body-container\",children:[/*#__PURE__*/_jsx(NavBar,{}),isRegistrationModalVisible&&/*#__PURE__*/_jsx(RegistrationModal,{}),isLoginModalVisible&&/*#__PURE__*/_jsx(LoginModal,{}),/*#__PURE__*/_jsx(\"div\",{className:\"image-uploader-container\",children:/*#__PURE__*/_jsx(ImageUploader,{msg:\"Welcome to The Image Uploader!\",onImageUploaded:refreshClosetView})}),isDesktop?/*#__PURE__*/_jsxs(\"div\",{className:\"desktop-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closetview-container\",children:/*#__PURE__*/_jsx(ClosetView,{images:images,onSelectImage:handleSelectItem})}),/*#__PURE__*/_jsx(\"div\",{className:\"outfit-view-container\",children:/*#__PURE__*/_jsx(OutfitView,{onRemoveItems:handleRemoveItem,onRemoveItem:handleRemoveItem,className:\"outfit-view-desktop\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closetview-container-mobile\",children:/*#__PURE__*/_jsx(ClosetView,{images:images,onSelectImage:handleSelectItem})}),/*#__PURE__*/_jsx(\"div\",{className:\"outfit-view-container-mobile\",children:/*#__PURE__*/_jsx(OutfitView,{onRemoveItem:handleRemoveItem,className:\"outfit-view-mobile\"})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","ImageUploader","ClosetView","OutfitView","NavBar","RegistrationModal","LoginModal","loginUser","userIsAuthenticated","RegistrationModalVisibility","LoginModalVisibility","removeItem","addItem","jsx","_jsx","jsxs","_jsxs","App","_ref","images","_useState","_useState2","_slicedToArray","isDesktop","setIsDesktop","isRegistrationModalVisible","isLoginModalVisible","isAuthenticated","state","selectedItems","dispatch","checkScreenSize","window","innerWidth","addEventListener","removeEventListener","username","password","handleSelectItem","image","category","lowercaseCategory","toLowerCase","item","accessories","length","console","log","handleRemoveItem","prevSelected","_objectSpread","_defineProperty","refreshClosetView","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","error","stop","apply","arguments","className","children","msg","onImageUploaded","onSelectImage","onRemoveItems","onRemoveItem"],"sources":["/Users/kristo/kristos-closet/client/closet-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ImageUploader from './components/ImageUploader';\nimport ClosetView from './components/ClosetView';\nimport OutfitView from './components/OutfitView';\nimport NavBar from './components/NavBar';\nimport RegistrationModal from './components/RegistrationModal';\nimport LoginModal from './components/LoginModal';\nimport { loginUser, userIsAuthenticated } from './features/userSlice';\nimport { RegistrationModalVisibility, LoginModalVisibility } from './features/modalSlice';\nimport { removeItem, addItem } from './features/selectedItemsSlice';\n\nimport './App.css';\n\n  const App = ({ images }) => {\n    \n    const [isDesktop, setIsDesktop] = useState(false);\n  \n    const isRegistrationModalVisible = useSelector(RegistrationModalVisibility);\n    const isLoginModalVisible = useSelector(LoginModalVisibility);\n    const isAuthenticated = useSelector(userIsAuthenticated);\n    // const selectedItems = useSelector(selectedItemsSliceReducer)\n    const state = useSelector(state => state.selectedItems);\n\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      const checkScreenSize = () => {\n        setIsDesktop(window.innerWidth >= 768);\n      };\n      checkScreenSize();\n      window.addEventListener('resize', checkScreenSize);\n      return () => {\n        window.removeEventListener('resize', checkScreenSize);\n      };\n    }, []);\n\n    useEffect(() => {\n      // Fetch user data once the component mounts\n      if (!isAuthenticated) {\n        dispatch(loginUser({ username: 'yourUsername', password: 'yourPassword' }));\n      }\n    }, [dispatch, isAuthenticated]);\n\n    const handleSelectItem = (image) => {\n      const { category } = image;\n      const lowercaseCategory = category.toLowerCase();\n    \n      if (lowercaseCategory === 'shoes' || lowercaseCategory === 'bottom') {\n        dispatch(addItem({ category: 'bottom', item: image }));\n      } else if (lowercaseCategory === 'top') {\n        dispatch(addItem({ category: 'top', item: image }));\n      } else if (lowercaseCategory === 'hat') {\n        dispatch(addItem({ category: 'hat', item: image }));\n      } else if (lowercaseCategory === 'accessory') {\n        if (state.accessories.length < 3) {\n          dispatch(addItem({ category: 'accessories', item: image }));\n        } else {\n          console.log(\"Too many accessories\");\n        }\n      } else if (lowercaseCategory === 'onepiece') {\n        dispatch(addItem({ category: 'onePiece', item: image }));\n      }\n    };\n    \n\n    const handleRemoveItem = (item, category) => {\n      if (category === 'accessory') {\n        dispatch(removeItem({ category, item }));\n        } else {\n        dispatch(prevSelected => ({ ...prevSelected, [category]: null }));\n      }\n    };\n\n    const refreshClosetView = async () => {\n      try {\n        // Perform the fetch operation or any data refreshing logic here\n        // const response = await fetch('/backend/Images');\n        // const data = await response.json();\n        // Update state or perform other necessary actions with the data\n        // console.log(\"refreshClosetView has run with updated data:\", data);\n      } catch (error) {\n        console.error(\"Error refreshing closetview:\", error);\n      }\n    };  \n\n    return (\n\n      <div className=\"body-container\">\n        \n        <NavBar />\n\n        {isRegistrationModalVisible && <RegistrationModal />}\n        {isLoginModalVisible && <LoginModal />}\n\n        <div className=\"image-uploader-container\">\n          <ImageUploader msg=\"Welcome to The Image Uploader!\" onImageUploaded={refreshClosetView} />\n        </div>\n\n        {isDesktop ? (\n          <div className=\"desktop-layout\">\n            <div className=\"closetview-container\">\n              <ClosetView images={images} onSelectImage={handleSelectItem} />\n            </div>\n            <div className=\"outfit-view-container\">\n              <OutfitView onRemoveItems={handleRemoveItem} onRemoveItem={handleRemoveItem} className=\"outfit-view-desktop\" />\n            </div>\n          </div>\n        ) : (\n          <div className=\"mobile-layout\">\n            <div className=\"closetview-container-mobile\">\n              <ClosetView images={images} onSelectImage={handleSelectItem} />\n            </div>\n            <div className=\"outfit-view-container-mobile\">\n              <OutfitView onRemoveItem={handleRemoveItem} className=\"outfit-view-mobile\" />\n            </div>\n          </div>\n        )}\n\n      </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
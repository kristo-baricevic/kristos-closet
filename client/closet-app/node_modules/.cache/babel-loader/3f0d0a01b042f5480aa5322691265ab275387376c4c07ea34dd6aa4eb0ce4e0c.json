{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";export var setAuthentication=function setAuthentication(isAuthenticated){return{type:'SET_AUTHENTICATION',payload:isAuthenticated};};export var setUser=function setUser(user){return{type:'SET_USER',payload:user};};export var clearAuthentication=function clearAuthentication(){return{type:'CLEAR_AUTHENTICATION'};};export var showLoginModal=function showLoginModal(){return{type:'SET_LOGIN_MODAL_VISIBLE',payload:true};};export var closeLoginModal=function closeLoginModal(){return{type:'SET_LOGIN_MODAL_VISIBLE',payload:false};};export var showRegistrationModal=function showRegistrationModal(){return{type:'SET_REGISTRATION_MODAL_VISIBLE',payload:true};};export var closeRegistrationModal=function closeRegistrationModal(){return{type:'SET_REGISTRATION_MODAL_VISIBLE',payload:false};};export var setRegistrationModalVisible=function setRegistrationModalVisible(visible){return{type:'SET_REGISTRATION_MODAL_VISIBLE',payload:visible};};export var setLoginModalVisible=function setLoginModalVisible(visible){return{type:'SET_LOGIN_MODAL_VISIBLE',payload:visible};};export var loginUser=function loginUser(userData){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(\"inside login try\");_context.next=4;return axios.post('http://localhost:5000/api/login',userData);case 4:response=_context.sent;if(response.status===200){dispatch({type:'LOGIN_USER_SUCCESS',payload:response.data});}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch({type:'LOGIN_USER_ERROR',payload:_context.t0.message});case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var loginSuccess=function loginSuccess(user){return{type:'LOGIN_USER_SUCCESS',payload:user};};export var logoutUser=function logoutUser(){return{type:'LOGOUT_USER'};};export var registerUser=function registerUser(userData){console.log(\"registerUser has run\");return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;console.log(\"userData about to post\");_context2.next=4;return axios.post('http://localhost:5000/api/register',userData);case 4:response=_context2.sent;console.log(\"userData posted\");if(response.status===201){dispatch({type:'REGISTER_USER_SUCCESS',payload:response.data});}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:'REGISTER_USER_ERROR',payload:_context2.t0.message});case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var loginAnonymous=function loginAnonymous(){return{type:'LOGIN_ANONYMOUS'};};","map":{"version":3,"names":["axios","setAuthentication","isAuthenticated","type","payload","setUser","user","clearAuthentication","showLoginModal","closeLoginModal","showRegistrationModal","closeRegistrationModal","setRegistrationModalVisible","visible","setLoginModalVisible","loginUser","userData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","response","wrap","_callee$","_context","prev","next","console","log","post","sent","status","data","t0","message","stop","_x","apply","arguments","loginSuccess","logoutUser","registerUser","_ref2","_callee2","_callee2$","_context2","_x2","loginAnonymous"],"sources":["/Users/kristo/kristos-closet/client/closet-app/src/store/actions.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const setAuthentication = (isAuthenticated) => ({\n    type: 'SET_AUTHENTICATION',\n    payload: isAuthenticated,\n  });\n  \n  export const setUser = (user) => ({\n    type: 'SET_USER',\n    payload: user,\n  });\n  \n  export const clearAuthentication = () => ({\n    type: 'CLEAR_AUTHENTICATION',\n  });\n  \n  export const showLoginModal = () => ({\n    type: 'SET_LOGIN_MODAL_VISIBLE',\n    payload: true,\n  });\n  \n  export const closeLoginModal = () => ({\n    type: 'SET_LOGIN_MODAL_VISIBLE',\n    payload: false,\n  });\n  \n  export const showRegistrationModal = () => ({\n    type: 'SET_REGISTRATION_MODAL_VISIBLE',\n    payload: true,\n  });\n  \n  export const closeRegistrationModal = () => ({\n    type: 'SET_REGISTRATION_MODAL_VISIBLE',\n    payload: false,\n  });\n\n  export const setRegistrationModalVisible = (visible) => ({\n    type: 'SET_REGISTRATION_MODAL_VISIBLE',\n    payload: visible,\n  });\n  \n  export const setLoginModalVisible = (visible) => ({\n    type: 'SET_LOGIN_MODAL_VISIBLE',\n    payload: visible,\n  });\n\n  export const loginUser = (userData) => {\n    return async (dispatch) => {\n      try {\n        console.log(\"inside login try\");\n        const response = await axios.post('http://localhost:5000/api/login', userData);\n\n        if (response.status === 200) {\n          dispatch({\n            type: 'LOGIN_USER_SUCCESS',\n            payload: response.data,\n          });\n        }\n      } catch (error) {\n        dispatch({\n          type: 'LOGIN_USER_ERROR',\n          payload: error.message,\n        });        \n      }\n    };\n  };\n  \n  export const loginSuccess = (user) => ({\n    type: 'LOGIN_USER_SUCCESS',\n    payload: user,\n  });\n\n  export const logoutUser = () => ({\n    type: 'LOGOUT_USER', \n  });\n\n  export const registerUser = (userData) => {\n    console.log(\"registerUser has run\");\n    return async (dispatch) => {\n      try {\n        console.log(\"userData about to post\");\n        const response = await axios.post('http://localhost:5000/api/register', userData);\n        console.log(\"userData posted\");\n  \n        if (response.status === 201) {\n          dispatch({\n            type: 'REGISTER_USER_SUCCESS',\n            payload: response.data,\n          });\n        }\n      } catch (error) {\n        dispatch({\n          type: 'REGISTER_USER_ERROR',\n          payload: error.message,\n        });\n      }\n    };\n  };\n  \n\n  export const loginAnonymous = () => ({\n    type: 'LOGIN_ANONYMOUS', \n  });\n  \n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
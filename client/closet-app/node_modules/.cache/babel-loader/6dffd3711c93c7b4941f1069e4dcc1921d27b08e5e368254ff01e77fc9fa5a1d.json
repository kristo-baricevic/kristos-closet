{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst selectedItemsSlice = createSlice({\n  name: 'selectedItems',\n  initialState: {\n    closet: [],\n    accessory: []\n  },\n  reducers: {\n    addItem: (state, action) => {\n      const {\n        category,\n        item\n      } = action.payload;\n\n      // Check if adding this item violates the constraints\n      if (!isValidAddition(state, category, item)) {\n        console.error('Invalid addition:', category, item);\n        return;\n      }\n\n      // If item is a 'onePiece', remove 'top' and 'bottom' from the state\n      if (item.category === 'onePiece') {\n        state.closet = state.closet.filter(selectedItem => selectedItem.category !== 'top' && selectedItem.category !== 'bottom');\n      } else if (item.category === 'top' || item.category === 'bottom') {\n        // If item is 'top' or 'bottom', remove 'onePiece' from the state\n        state.closet = state.closet.filter(selectedItem => selectedItem.category !== 'onePiece');\n      }\n\n      // Ensure that only up to three accessories can be added\n      if (category === 'accessory' && state.accessory.length >= 3) {\n        console.error('Too many accessories:', state.accessory);\n        return;\n      }\n      state[category].push(item);\n    },\n    removeItem: (state, action) => {\n      const {\n        category,\n        itemId\n      } = action.payload;\n      state[category] = state[category].filter(item => item.id !== itemId);\n    }\n  }\n});\n\n// Function to check if adding a certain item is valid based on constraints\nfunction isValidAddition(state, category, newItem) {\n  if (category === 'accessory' && state.accessory.length >= 3) {\n    return false; // Too many accessories\n  }\n\n  if (newItem.category === 'onePiece') {\n    return !state.closet.some(item => item.category === 'top' || item.category === 'bottom');\n  }\n  if (newItem.category === 'top' || newItem.category === 'bottom') {\n    return !state.closet.some(item => item.category === 'onePiece');\n  }\n  return true;\n}\nexport const {\n  addItem,\n  removeItem\n} = selectedItemsSlice.actions;\nexport default selectedItemsSlice.reducer;","map":{"version":3,"names":["createSlice","selectedItemsSlice","name","initialState","closet","accessory","reducers","addItem","state","action","category","item","payload","isValidAddition","console","error","filter","selectedItem","length","push","removeItem","itemId","id","newItem","some","actions","reducer"],"sources":["/Users/kristo/kristos-closet/client/closet-app/src/features/selectedItemsSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst selectedItemsSlice = createSlice({\n  name: 'selectedItems',\n  initialState: {\n    closet: [],\n    accessory: [],\n  },\n  reducers: {\n    addItem: (state, action) => {\n      const { category, item } = action.payload;\n\n      // Check if adding this item violates the constraints\n      if (!isValidAddition(state, category, item)) {\n        console.error('Invalid addition:', category, item);\n        return;\n      }\n\n      // If item is a 'onePiece', remove 'top' and 'bottom' from the state\n      if (item.category === 'onePiece') {\n        state.closet = state.closet.filter(selectedItem => selectedItem.category !== 'top' && selectedItem.category !== 'bottom');\n      } else if (item.category === 'top' || item.category === 'bottom') {\n        // If item is 'top' or 'bottom', remove 'onePiece' from the state\n        state.closet = state.closet.filter(selectedItem => selectedItem.category !== 'onePiece');\n      }\n\n      // Ensure that only up to three accessories can be added\n      if (category === 'accessory' && state.accessory.length >= 3) {\n        console.error('Too many accessories:', state.accessory);\n        return;\n      }\n\n      state[category].push(item);\n    },\n    removeItem: (state, action) => {\n      const { category, itemId } = action.payload;\n      state[category] = state[category].filter(item => item.id !== itemId);\n    },\n  },\n});\n\n// Function to check if adding a certain item is valid based on constraints\nfunction isValidAddition(state, category, newItem) {\n  if (category === 'accessory' && state.accessory.length >= 3) {\n    return false; // Too many accessories\n  }\n\n  if (newItem.category === 'onePiece') {\n    return !state.closet.some(item => item.category === 'top' || item.category === 'bottom');\n  }\n\n  if (newItem.category === 'top' || newItem.category === 'bottom') {\n    return !state.closet.some(item => item.category === 'onePiece');\n  }\n\n  return true;\n}\n\nexport const { addItem, removeItem } = selectedItemsSlice.actions;\nexport default selectedItemsSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,kBAAkB,GAAGD,WAAW,CAAC;EACrCE,IAAI,EAAE,eAAe;EACrBC,YAAY,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE;EACb,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1B,MAAM;QAAEC,QAAQ;QAAEC;MAAK,CAAC,GAAGF,MAAM,CAACG,OAAO;;MAEzC;MACA,IAAI,CAACC,eAAe,CAACL,KAAK,EAAEE,QAAQ,EAAEC,IAAI,CAAC,EAAE;QAC3CG,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEL,QAAQ,EAAEC,IAAI,CAAC;QAClD;MACF;;MAEA;MACA,IAAIA,IAAI,CAACD,QAAQ,KAAK,UAAU,EAAE;QAChCF,KAAK,CAACJ,MAAM,GAAGI,KAAK,CAACJ,MAAM,CAACY,MAAM,CAACC,YAAY,IAAIA,YAAY,CAACP,QAAQ,KAAK,KAAK,IAAIO,YAAY,CAACP,QAAQ,KAAK,QAAQ,CAAC;MAC3H,CAAC,MAAM,IAAIC,IAAI,CAACD,QAAQ,KAAK,KAAK,IAAIC,IAAI,CAACD,QAAQ,KAAK,QAAQ,EAAE;QAChE;QACAF,KAAK,CAACJ,MAAM,GAAGI,KAAK,CAACJ,MAAM,CAACY,MAAM,CAACC,YAAY,IAAIA,YAAY,CAACP,QAAQ,KAAK,UAAU,CAAC;MAC1F;;MAEA;MACA,IAAIA,QAAQ,KAAK,WAAW,IAAIF,KAAK,CAACH,SAAS,CAACa,MAAM,IAAI,CAAC,EAAE;QAC3DJ,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEP,KAAK,CAACH,SAAS,CAAC;QACvD;MACF;MAEAG,KAAK,CAACE,QAAQ,CAAC,CAACS,IAAI,CAACR,IAAI,CAAC;IAC5B,CAAC;IACDS,UAAU,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MAC7B,MAAM;QAAEC,QAAQ;QAAEW;MAAO,CAAC,GAAGZ,MAAM,CAACG,OAAO;MAC3CJ,KAAK,CAACE,QAAQ,CAAC,GAAGF,KAAK,CAACE,QAAQ,CAAC,CAACM,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACW,EAAE,KAAKD,MAAM,CAAC;IACtE;EACF;AACF,CAAC,CAAC;;AAEF;AACA,SAASR,eAAeA,CAACL,KAAK,EAAEE,QAAQ,EAAEa,OAAO,EAAE;EACjD,IAAIb,QAAQ,KAAK,WAAW,IAAIF,KAAK,CAACH,SAAS,CAACa,MAAM,IAAI,CAAC,EAAE;IAC3D,OAAO,KAAK,CAAC,CAAC;EAChB;;EAEA,IAAIK,OAAO,CAACb,QAAQ,KAAK,UAAU,EAAE;IACnC,OAAO,CAACF,KAAK,CAACJ,MAAM,CAACoB,IAAI,CAACb,IAAI,IAAIA,IAAI,CAACD,QAAQ,KAAK,KAAK,IAAIC,IAAI,CAACD,QAAQ,KAAK,QAAQ,CAAC;EAC1F;EAEA,IAAIa,OAAO,CAACb,QAAQ,KAAK,KAAK,IAAIa,OAAO,CAACb,QAAQ,KAAK,QAAQ,EAAE;IAC/D,OAAO,CAACF,KAAK,CAACJ,MAAM,CAACoB,IAAI,CAACb,IAAI,IAAIA,IAAI,CAACD,QAAQ,KAAK,UAAU,CAAC;EACjE;EAEA,OAAO,IAAI;AACb;AAEA,OAAO,MAAM;EAAEH,OAAO;EAAEa;AAAW,CAAC,GAAGnB,kBAAkB,CAACwB,OAAO;AACjE,eAAexB,kBAAkB,CAACyB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useSelector}from'react-redux';import ImageUploader from'./components/ImageUploader';import PhotoStream from'./components/PhotoStream';import OutfitView from'./components/OutfitView';import NavBar from'./components/NavBar';import RegistrationModal from'./components/RegistrationModal';import LoginModal from'./components/LoginModal';import'./App.css';// const express = require('express');\n// const mongoose = require('mongoose');\n// const ClothingItem = require('./models/ClothingItem'); \nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(_ref){var images=_ref.images;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDesktop=_useState2[0],setIsDesktop=_useState2[1];var isRegistrationModalVisible=useSelector(function(state){return state.isRegistrationModalVisible;});var isLoginModalVisible=useSelector(function(state){return state.isLoginModalVisible;});var _useState3=useState({hat:null,top:null,bottom:null,onepiece:null,shoes:null,accessory:[]}),_useState4=_slicedToArray(_useState3,2),selectedItems=_useState4[0],setSelectedItems=_useState4[1];useEffect(function(){var checkScreenSize=function checkScreenSize(){setIsDesktop(window.innerWidth>=768);};checkScreenSize();window.addEventListener('resize',checkScreenSize);return function(){window.removeEventListener('resize',checkScreenSize);};},[]);var handleSelectImage=function handleSelectImage(image){var category=image.category;if(category.toLowerCase()==='shoes'){setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},{shoes:image});});}else if(category.toLowerCase()==='bottom'){setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},{bottom:image,onepiece:null});});}else if(category.toLowerCase()==='top'){setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},{top:image,onepiece:null});});}else if(category.toLowerCase()==='hat'){setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},{hat:image});});}else if(category.toLowerCase()==='accessory'){if(selectedItems.accessory.length<3){setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},{accessory:[].concat(_toConsumableArray(prevSelected.accessory),[image])});});}else{console.log(\"Too many accessories\");}}else if(category.toLowerCase()==='onepiece'){setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},{onepiece:image,top:null,bottom:null});});}};var handleRemoveItem=function handleRemoveItem(item,category){if(category==='accessory'){setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},{accessory:prevSelected.accessory.filter(function(accessory){return accessory!==item;})});});}else{setSelectedItems(function(prevSelected){return _objectSpread(_objectSpread({},prevSelected),{},_defineProperty({},category,null));});}};var refreshPhotostream=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/backend/Images');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;// Update state or perform other necessary actions with the data\nconsole.log(\"refreshPhotostream has run with updated data:\",data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Error refreshing photostream:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function refreshPhotostream(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"body-container\",children:[/*#__PURE__*/_jsx(NavBar,{}),isRegistrationModalVisible&&/*#__PURE__*/_jsx(RegistrationModal,{}),isLoginModalVisible&&/*#__PURE__*/_jsx(LoginModal,{}),/*#__PURE__*/_jsx(\"div\",{className:\"image-uploader-container\",children:/*#__PURE__*/_jsx(ImageUploader,{msg:\"Welcome to The Image Uploader!\",onImageUploaded:refreshPhotostream})}),isDesktop?/*#__PURE__*/_jsxs(\"div\",{className:\"desktop-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"photostream-container\",children:/*#__PURE__*/_jsx(PhotoStream,{images:images,onSelectImage:handleSelectImage})}),/*#__PURE__*/_jsx(\"div\",{className:\"outfit-view-container\",children:/*#__PURE__*/_jsx(OutfitView,{selectedItems:selectedItems,onRemoveItem:handleRemoveItem,className:\"outfit-view-desktop\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"photostream-container-mobile\",children:/*#__PURE__*/_jsx(PhotoStream,{images:images,onSelectImage:handleSelectImage})}),/*#__PURE__*/_jsx(\"div\",{className:\"outfit-view-container-mobile\",children:/*#__PURE__*/_jsx(OutfitView,{selectedItems:selectedItems,onRemoveItem:handleRemoveItem,className:\"outfit-view-mobile\"})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useSelector","ImageUploader","PhotoStream","OutfitView","NavBar","RegistrationModal","LoginModal","jsx","_jsx","jsxs","_jsxs","App","_ref","images","_useState","_useState2","_slicedToArray","isDesktop","setIsDesktop","isRegistrationModalVisible","state","isLoginModalVisible","_useState3","hat","top","bottom","onepiece","shoes","accessory","_useState4","selectedItems","setSelectedItems","checkScreenSize","window","innerWidth","addEventListener","removeEventListener","handleSelectImage","image","category","toLowerCase","prevSelected","_objectSpread","length","concat","_toConsumableArray","console","log","handleRemoveItem","item","filter","_defineProperty","refreshPhotostream","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","error","stop","apply","arguments","className","children","msg","onImageUploaded","onSelectImage","onRemoveItem"],"sources":["/Users/kristo/kristos-closet/client/closet-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport ImageUploader from './components/ImageUploader';\nimport PhotoStream from './components/PhotoStream';\nimport OutfitView from './components/OutfitView';\nimport NavBar from './components/NavBar';\nimport RegistrationModal from './components/RegistrationModal';\nimport LoginModal from './components/LoginModal';\n\nimport './App.css';\n\n// const express = require('express');\n// const mongoose = require('mongoose');\n// const ClothingItem = require('./models/ClothingItem'); \n\nconst App = ({ images }) => {\n  const [isDesktop, setIsDesktop] = useState(false);\n  const isRegistrationModalVisible = useSelector(state => state.isRegistrationModalVisible);\n  const isLoginModalVisible = useSelector(state => state.isLoginModalVisible);\n\n  const [selectedItems, setSelectedItems] = useState({\n    hat: null,\n    top: null,\n    bottom: null,\n    onepiece: null,\n    shoes: null,\n    accessory: [],\n  });\n\n  useEffect(() => {\n    const checkScreenSize = () => {\n      setIsDesktop(window.innerWidth >= 768);\n    };\n    checkScreenSize();\n    window.addEventListener('resize', checkScreenSize);\n    return () => {\n      window.removeEventListener('resize', checkScreenSize);\n    };\n  }, []);\n\n  const handleSelectImage = (image) => {\n    const { category } = image;\n\n    if (category.toLowerCase() === 'shoes') {\n      setSelectedItems(prevSelected => ({ ...prevSelected, shoes: image }));\n    } else if (category.toLowerCase() === 'bottom') {\n      setSelectedItems(prevSelected => ({ ...prevSelected, bottom: image, onepiece: null }));\n    } else if (category.toLowerCase() === 'top') {\n      setSelectedItems(prevSelected => ({ ...prevSelected, top: image, onepiece: null }));\n    } else if (category.toLowerCase() === 'hat') {\n      setSelectedItems(prevSelected => ({ ...prevSelected, hat: image }));\n    } else if (category.toLowerCase() === 'accessory') {\n      if (selectedItems.accessory.length < 3) {\n        setSelectedItems(prevSelected => ({ ...prevSelected, accessory: [...prevSelected.accessory, image] }));\n      } else {\n        console.log(\"Too many accessories\");\n      }\n    } else if (category.toLowerCase() === 'onepiece') {\n      setSelectedItems(prevSelected => ({ ...prevSelected, onepiece: image, top: null, bottom: null }));\n    }\n  };\n\n  const handleRemoveItem = (item, category) => {\n    if (category === 'accessory') {\n      setSelectedItems(prevSelected => ({\n        ...prevSelected,\n        accessory: prevSelected.accessory.filter(accessory => accessory !== item),\n      }));\n    } else {\n      setSelectedItems(prevSelected => ({ ...prevSelected, [category]: null }));\n    }\n  };\n\n  const refreshPhotostream = async () => {\n    try {\n      // Perform the fetch operation or any data refreshing logic here\n      const response = await fetch('/backend/Images');\n      const data = await response.json();\n      // Update state or perform other necessary actions with the data\n      console.log(\"refreshPhotostream has run with updated data:\", data);\n    } catch (error) {\n      console.error(\"Error refreshing photostream:\", error);\n    }\n  };  \n\n  return (\n    <div className=\"body-container\">\n      \n      <NavBar />\n\n      {isRegistrationModalVisible && <RegistrationModal />}\n      {isLoginModalVisible && <LoginModal />}\n\n      <div className=\"image-uploader-container\">\n        <ImageUploader msg=\"Welcome to The Image Uploader!\" onImageUploaded={refreshPhotostream} />\n      </div>\n\n      {isDesktop ? (\n        <div className=\"desktop-layout\">\n          <div className=\"photostream-container\">\n            <PhotoStream images={images} onSelectImage={handleSelectImage} />\n          </div>\n          <div className=\"outfit-view-container\">\n            <OutfitView selectedItems={selectedItems} onRemoveItem={handleRemoveItem} className=\"outfit-view-desktop\" />\n          </div>\n        </div>\n      ) : (\n        <div className=\"mobile-layout\">\n          <div className=\"photostream-container-mobile\">\n            <PhotoStream images={images} onSelectImage={handleSelectImage} />\n          </div>\n          <div className=\"outfit-view-container-mobile\">\n            <OutfitView selectedItems={selectedItems} onRemoveItem={handleRemoveItem} className=\"outfit-view-mobile\" />\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  images: [],\n  loading: false,\n  error: null\n};\n\n// Thunk action to fetch items\nexport const fetchItems = () => async dispatch => {\n  dispatch(fetchItemsStart());\n  try {\n    const response = await axios.get('http://localhost:5000/api/images');\n    const data = response.data;\n    const updatedImages = data.map(image => ({\n      ...image,\n      isUserImage: image.userId !== null,\n      imageUrl: `http://localhost:5000/api/images/${image.id}`\n    }));\n    dispatch(fetchItemsSuccess(updatedImages));\n  } catch (error) {\n    dispatch(fetchItemsFailure(error));\n  }\n};\nconst closetSlice = createSlice({\n  name: 'initialCloset',\n  initialState,\n  reducers: {\n    fetchItemsStart: state => {\n      state.loading = true;\n      state.error = null;\n    },\n    fetchItemsSuccess: (state, action) => {\n      state.images = action.payload;\n      state.loading = false;\n      state.error = null;\n    },\n    fetchItemsFailure: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    editImage: (state, action) => {\n      const {\n        id,\n        category\n      } = action.payload;\n      const imageToEdit = state.images.find(image => image.id === id);\n      if (imageToEdit) {\n        imageToEdit.category = category;\n      }\n    },\n    deleteImage: (state, action) => {\n      const imageId = action.payload;\n      state.images = state.images.filter(image => image.id !== imageId);\n    }\n  }\n});\nexport const {\n  fetchItemsStart,\n  fetchItemsSuccess,\n  fetchItemsFailure,\n  editImage,\n  deleteImage\n} = closetSlice.actions;\n\n// export const selectInitialClosetItems = (state) => state.closet.images;\n// export const selectInitialClosetLoading = (state) => state.closet.loading;\n// export const selectInitialClosetError = (state) => state.closet.error;\n\nexport const closetSliceReducer = closetSlice.reducer;","map":{"version":3,"names":["createSlice","axios","initialState","images","loading","error","fetchItems","dispatch","fetchItemsStart","response","get","data","updatedImages","map","image","isUserImage","userId","imageUrl","id","fetchItemsSuccess","fetchItemsFailure","closetSlice","name","reducers","state","action","payload","editImage","category","imageToEdit","find","deleteImage","imageId","filter","actions","closetSliceReducer","reducer"],"sources":["/Users/kristo/kristos-closet/client/closet-app/src/features/closetSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst initialState = {\n  images: [],\n  loading: false,\n  error: null,\n};\n\n// Thunk action to fetch items\nexport const fetchItems = () => async (dispatch) => {\n    dispatch(fetchItemsStart());\n  \n    try {\n      const response = await axios.get('http://localhost:5000/api/images');\n      const data = response.data;\n  \n      const updatedImages = data.map((image) => ({\n        ...image,\n        isUserImage: image.userId !== null,\n        imageUrl: `http://localhost:5000/api/images/${image.id}`,\n      }));\n  \n      dispatch(fetchItemsSuccess(updatedImages));\n    } catch (error) {\n      dispatch(fetchItemsFailure(error));\n    }\n  };\n\nconst closetSlice = createSlice({\n  name: 'initialCloset',\n  initialState,\n  reducers: {\n    fetchItemsStart: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    fetchItemsSuccess: (state, action) => {\n      state.images = action.payload;\n      state.loading = false;\n      state.error = null;\n    },\n    fetchItemsFailure: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    editImage: (state, action) => {\n        const { id, category } = action.payload;\n        const imageToEdit = state.images.find(image => image.id === id);\n        if (imageToEdit) {\n          imageToEdit.category = category;\n        }\n    },\n    deleteImage: (state, action) => {\n        const imageId = action.payload;\n        state.images = state.images.filter(image => image.id !== imageId);\n    },\n  },\n});\n\nexport const {\n  fetchItemsStart,\n  fetchItemsSuccess,\n  fetchItemsFailure,\n  editImage,\n  deleteImage,\n} = closetSlice.actions;\n\n// export const selectInitialClosetItems = (state) => state.closet.images;\n// export const selectInitialClosetLoading = (state) => state.closet.loading;\n// export const selectInitialClosetError = (state) => state.closet.error;\n\nexport const closetSliceReducer = closetSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG;EACnBC,MAAM,EAAE,EAAE;EACVC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EAChDA,QAAQ,CAACC,eAAe,CAAC,CAAC,CAAC;EAE3B,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,kCAAkC,CAAC;IACpE,MAAMC,IAAI,GAAGF,QAAQ,CAACE,IAAI;IAE1B,MAAMC,aAAa,GAAGD,IAAI,CAACE,GAAG,CAAEC,KAAK,KAAM;MACzC,GAAGA,KAAK;MACRC,WAAW,EAAED,KAAK,CAACE,MAAM,KAAK,IAAI;MAClCC,QAAQ,EAAG,oCAAmCH,KAAK,CAACI,EAAG;IACzD,CAAC,CAAC,CAAC;IAEHX,QAAQ,CAACY,iBAAiB,CAACP,aAAa,CAAC,CAAC;EAC5C,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdE,QAAQ,CAACa,iBAAiB,CAACf,KAAK,CAAC,CAAC;EACpC;AACF,CAAC;AAEH,MAAMgB,WAAW,GAAGrB,WAAW,CAAC;EAC9BsB,IAAI,EAAE,eAAe;EACrBpB,YAAY;EACZqB,QAAQ,EAAE;IACRf,eAAe,EAAGgB,KAAK,IAAK;MAC1BA,KAAK,CAACpB,OAAO,GAAG,IAAI;MACpBoB,KAAK,CAACnB,KAAK,GAAG,IAAI;IACpB,CAAC;IACDc,iBAAiB,EAAEA,CAACK,KAAK,EAAEC,MAAM,KAAK;MACpCD,KAAK,CAACrB,MAAM,GAAGsB,MAAM,CAACC,OAAO;MAC7BF,KAAK,CAACpB,OAAO,GAAG,KAAK;MACrBoB,KAAK,CAACnB,KAAK,GAAG,IAAI;IACpB,CAAC;IACDe,iBAAiB,EAAEA,CAACI,KAAK,EAAEC,MAAM,KAAK;MACpCD,KAAK,CAACpB,OAAO,GAAG,KAAK;MACrBoB,KAAK,CAACnB,KAAK,GAAGoB,MAAM,CAACC,OAAO;IAC9B,CAAC;IACDC,SAAS,EAAEA,CAACH,KAAK,EAAEC,MAAM,KAAK;MAC1B,MAAM;QAAEP,EAAE;QAAEU;MAAS,CAAC,GAAGH,MAAM,CAACC,OAAO;MACvC,MAAMG,WAAW,GAAGL,KAAK,CAACrB,MAAM,CAAC2B,IAAI,CAAChB,KAAK,IAAIA,KAAK,CAACI,EAAE,KAAKA,EAAE,CAAC;MAC/D,IAAIW,WAAW,EAAE;QACfA,WAAW,CAACD,QAAQ,GAAGA,QAAQ;MACjC;IACJ,CAAC;IACDG,WAAW,EAAEA,CAACP,KAAK,EAAEC,MAAM,KAAK;MAC5B,MAAMO,OAAO,GAAGP,MAAM,CAACC,OAAO;MAC9BF,KAAK,CAACrB,MAAM,GAAGqB,KAAK,CAACrB,MAAM,CAAC8B,MAAM,CAACnB,KAAK,IAAIA,KAAK,CAACI,EAAE,KAAKc,OAAO,CAAC;IACrE;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EACXxB,eAAe;EACfW,iBAAiB;EACjBC,iBAAiB;EACjBO,SAAS;EACTI;AACF,CAAC,GAAGV,WAAW,CAACa,OAAO;;AAEvB;AACA;AACA;;AAEA,OAAO,MAAMC,kBAAkB,GAAGd,WAAW,CAACe,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}
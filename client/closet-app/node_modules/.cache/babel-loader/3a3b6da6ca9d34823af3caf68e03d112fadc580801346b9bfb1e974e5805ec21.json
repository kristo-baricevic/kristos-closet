{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{LoginModalVisibility,setLoginModalVisible}from'../features/modalSlice';import{loginUser}from'../features/userSlice';// import axios from 'axios';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginModal=function LoginModal(){var isLoginModalVisible=useSelector(LoginModalVisibility);var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleCloseModal=function handleCloseModal(){dispatch(setLoginModalVisible(false));};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return dispatch(loginUser({username:username,password:password}));case 4:response=_context.sent;console.log('Login successful:',response.payload);handleCloseModal();_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error('Login failed:',_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login-modal \".concat(isLoginModalVisible?'visible':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"login-header\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:function onSubmit(e){return handleLogin(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login-label\",htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"text\",id:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login-label\",htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"password\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-close-button\",onClick:handleCloseModal,children:\"Close\"})]})});};export default LoginModal;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","LoginModalVisibility","setLoginModalVisible","loginUser","jsx","_jsx","jsxs","_jsxs","LoginModal","isLoginModalVisible","dispatch","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","handleCloseModal","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","sent","console","log","payload","t0","error","stop","_x","apply","arguments","className","concat","children","onSubmit","htmlFor","type","id","value","onChange","target","onClick"],"sources":["/Users/kristo/kristos-closet/client/closet-app/src/components/LoginModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LoginModalVisibility, setLoginModalVisible } from '../features/modalSlice';\nimport { loginUser } from '../features/userSlice';\n// import axios from 'axios';\n\nconst LoginModal = () => {\n  const isLoginModalVisible = useSelector(LoginModalVisibility);\n  const dispatch = useDispatch();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleCloseModal = () => {\n    dispatch(setLoginModalVisible(false)); \n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await dispatch(loginUser({ username, password }));\n\n      console.log('Login successful:', response.payload);\n      \n\n      handleCloseModal();\n    } catch (error) {\n      console.error('Login failed:', error);\n    }\n  };\n\n  return (\n    <div className={`login-modal ${isLoginModalVisible ? 'visible' : ''}`}>\n      <div className=\"login-modal-content\">\n        <h2 className=\"login-header\">Login</h2>\n        <form className=\"login-form\" onSubmit={(e) => handleLogin(e)}>\n          <div className=\"login-form-group\">\n            <label className=\"login-label\" htmlFor=\"username\">Username:</label>\n            <input\n              className=\"login-input\"\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div className=\"login-form-group\">\n            <label className=\"login-label\" htmlFor=\"password\">Password:</label>\n            <input\n              className=\"login-input\"\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)} \n            />\n          </div>\n          <button className=\"login-button\" type=\"submit\">Login</button>\n        </form>\n        <button className=\"login-close-button\" onClick={handleCloseModal}>Close</button>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kristo/kristos-closet/client/closet-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{loginUser}from'../store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginModal=function LoginModal(){var dispatch=useDispatch();var isLoginModalVisible=useSelector(function(state){return state.isLoginModalVisible;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleCloseModal=function handleCloseModal(){dispatch({type:'SET_LOGIN_MODAL_VISIBLE',payload:false});console.log(\"close\");};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(\"handleLogin ran\");userData={username:username,password:password};_context.next=5;return dispatch(loginUser(userData));case 5:console.log('dispatch:',userData);handleCloseModal();_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error('Login failed:',_context.t0);case 12:;case 13:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login-modal \".concat(isLoginModalVisible?'visible':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"login-header\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login-label\",htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"text\",id:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"login-label\",htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"password\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",type:\"button\",onClick:handleLogin,children:\"Login\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-close-button\",onClick:handleCloseModal,children:\"Close\"})]})});};export default LoginModal;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","loginUser","jsx","_jsx","jsxs","_jsxs","LoginModal","dispatch","isLoginModalVisible","state","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","handleCloseModal","type","payload","console","log","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","wrap","_callee$","_context","prev","next","t0","error","stop","apply","arguments","className","concat","children","htmlFor","id","value","onChange","e","target","required","onClick"],"sources":["/Users/kristo/kristos-closet/client/closet-app/src/components/LoginModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginUser } from '../store/actions';\n\nconst LoginModal = () => {\n\n  const dispatch = useDispatch();\n  const isLoginModalVisible = useSelector(state => state.isLoginModalVisible);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n\n  const handleCloseModal = () => {\n    dispatch({ type: 'SET_LOGIN_MODAL_VISIBLE', payload: false });\n    console.log(\"close\");\n  };\n\n  const handleLogin = async () => {\n    try {\n      console.log(\"handleLogin ran\");\n      const userData = {\n        username,\n        password,\n      };\n\n      await dispatch(loginUser(userData));\n      console.log('dispatch:', userData);\n      handleCloseModal();\n    } catch (error) {\n        console.error('Login failed:', error);\n      };\n    };\n\n  return (\n    <div className={`login-modal ${isLoginModalVisible ? 'visible' : ''}`}>\n      <div className=\"login-modal-content\">\n        <h2 className=\"login-header\">Login</h2>\n        <form>\n          <div className=\"login-form-group\">\n            <label className=\"login-label\" htmlFor=\"username\">Username:</label>\n            <input className=\"login-input\"\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={e => setUsername(e.target.value)} required\n            />\n          </div>\n          <div className=\"login-form-group\">\n            <label className=\"login-label\" htmlFor=\"password\">Password:</label>\n            <input className=\"login-input\"\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={e => setPassword(e.target.value)} required\n            />\n          </div>\n          <button className=\"login-button\" type=\"button\" onClick={handleLogin}>Login</button>\n        </form>\n        <button className=\"login-close-button\" onClick={handleCloseModal}>Close</button>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginModal;\n"],"mappings":"4ZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CAEvB,GAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAS,mBAAmB,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAI,CAAAA,KAAK,CAACD,mBAAmB,GAAC,CAC3E,IAAAE,SAAA,CAAgCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAgCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAG5B,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BZ,QAAQ,CAAC,CAAEa,IAAI,CAAE,yBAAyB,CAAEC,OAAO,CAAE,KAAM,CAAC,CAAC,CAC7DC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CACtB,CAAC,CAED,GAAM,CAAAC,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEhBZ,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CACxBO,QAAQ,CAAG,CACfjB,QAAQ,CAARA,QAAQ,CACRI,QAAQ,CAARA,QACF,CAAC,CAAAgB,QAAA,CAAAE,IAAA,SAEK,CAAA5B,QAAQ,CAACN,SAAS,CAAC6B,QAAQ,CAAC,CAAC,QACnCR,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEO,QAAQ,CAAC,CAClCX,gBAAgB,CAAC,CAAC,CAACc,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAG,EAAA,CAAAH,QAAA,aAEjBX,OAAO,CAACe,KAAK,CAAC,eAAe,CAAAJ,QAAA,CAAAG,EAAO,CAAC,CAAC,QACvC,CAAC,yBAAAH,QAAA,CAAAK,IAAA,MAAAT,OAAA,gBACH,kBAdG,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAc,KAAA,MAAAC,SAAA,OAcd,CAEH,mBACErC,IAAA,QAAKsC,SAAS,gBAAAC,MAAA,CAAiBlC,mBAAmB,CAAG,SAAS,CAAG,EAAE,CAAG,CAAAmC,QAAA,cACpEtC,KAAA,QAAKoC,SAAS,CAAC,qBAAqB,CAAAE,QAAA,eAClCxC,IAAA,OAAIsC,SAAS,CAAC,cAAc,CAAAE,QAAA,CAAC,OAAK,CAAI,CAAC,cACvCtC,KAAA,SAAAsC,QAAA,eACEtC,KAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAE,QAAA,eAC/BxC,IAAA,UAAOsC,SAAS,CAAC,aAAa,CAACG,OAAO,CAAC,UAAU,CAAAD,QAAA,CAAC,WAAS,CAAO,CAAC,cACnExC,IAAA,UAAOsC,SAAS,CAAC,aAAa,CAC5BrB,IAAI,CAAC,MAAM,CACXyB,EAAE,CAAC,UAAU,CACbC,KAAK,CAAEjC,QAAS,CAChBkC,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAAlC,WAAW,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAACI,QAAQ,MACrD,CAAC,EACC,CAAC,cACN7C,KAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAE,QAAA,eAC/BxC,IAAA,UAAOsC,SAAS,CAAC,aAAa,CAACG,OAAO,CAAC,UAAU,CAAAD,QAAA,CAAC,WAAS,CAAO,CAAC,cACnExC,IAAA,UAAOsC,SAAS,CAAC,aAAa,CAC5BrB,IAAI,CAAC,UAAU,CACfyB,EAAE,CAAC,UAAU,CACbC,KAAK,CAAE7B,QAAS,CAChB8B,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAA9B,WAAW,CAAC8B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAACI,QAAQ,MACrD,CAAC,EACC,CAAC,cACN/C,IAAA,WAAQsC,SAAS,CAAC,cAAc,CAACrB,IAAI,CAAC,QAAQ,CAAC+B,OAAO,CAAE3B,WAAY,CAAAmB,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC/E,CAAC,cACPxC,IAAA,WAAQsC,SAAS,CAAC,oBAAoB,CAACU,OAAO,CAAEhC,gBAAiB,CAAAwB,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC7E,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAArC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}